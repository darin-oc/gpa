"use strict";angular.module("gpaApp",["ngResource","ngRoute","ui.bootstrap.tooltip","ui.bootstrap.collapse","ui.bootstrap.modal","ui.bootstrap.dropdown"]).config(["$locationProvider","$routeProvider","$httpProvider",function(a,b,c){b.when("/",{templateUrl:"views/main.html",controller:"MainController"}).otherwise({redirectTo:"/"}),c.defaults.useXDomain=!0,delete c.defaults.headers.common["X-Requested-With"]}]),angular.module("gpaApp").controller("MainController",["$scope","$filter","$location","$anchorScroll","$modal","gradePointsCalculator","gradePointAverageCalculator","courses","grades","campuses","faculties","programmes","courseTypes","levels","qualityhoursValues","academicStandings","classOfHonsDegrees","courseRows","gpaConversion","terms","configurations","student","layouts",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){function x(b){a.faculties=b?k.campusCollection(b):null}function y(a){var b;b="undefined"!=typeof a&&a?a:!1,k.selectedFaculty(b)}function z(a){j.selectedCampus(a)}function A(a){return a?j.theme(a):j.theme("default")}function B(b){"open"===b||null===b?(a.disableFaulty=!0,a.disableFaultyToolTip="No faculties available for this campus selection"):(a.disableFaulty=!1,a.disableFaultyToolTip="")}function C(){var c,d,e,f,h;c=k.thisFaculty(),("undefined"==typeof c||null===c)&&(c=!1),a.oldGpaTotalQualityPoints=g.sumPoints("adjustedQualityPoints"),e="-",a.oldGpaTotalGradePoints=g.sumPoints("adjustedGradePoints"),d="-",a.oldGpaTotalQualityHours=g.sumQualityHours("old"),a.oldGpa=g.calculateGpa(a.oldGpaTotalGradePoints,a.oldGpaTotalQualityHours),a.oldWeightedGpaTotalQualityPoints=g.sumWeightedPoints("adjustedQualityPoints"),a.oldWeightedGpaTotalGradePoints=g.sumWeightedPoints("adjustedGradePoints"),a.oldWeightedGpaTotalQualityHours=g.sumWeightedQualityHours("old"),a.oldWeightedGpa=g.calculateGpa(a.oldWeightedGpaTotalGradePoints,a.oldWeightedGpaTotalQualityHours),a.oldAcademicStanding=b("getAcademicStanding")(p.collection(),a.oldGpa),a.oldGpaDegreeClass=b("getclassOfHonsDegree")(q.oldCollection(c),a.oldWeightedGpa),a.newGpaTotalQualityPoints=g.sumPoints("adjustedConvertedQP"),f="-",a.newGpaTotalGradePoints=g.sumPoints("adjustedConvertedGP"),h="-",a.newGpaTotalQualityHours=g.sumQualityHours("new"),a.newGpa=g.calculateGpa(a.newGpaTotalGradePoints,a.newGpaTotalQualityHours),a.convertedGpa=s.convertOldToNewGpaUsingFormula(a.oldGpa),a.combinedCumulativeGpa=g.combinedGpa("cumulative"),a.newWeightedGpaTotalQualityPoints=g.sumWeightedPoints("adjustedConvertedQP"),a.newWeightedGpaTotalGradePoints=g.sumWeightedPoints("adjustedConvertedGP"),a.newWeightedGpaTotalQualityHours=g.sumWeightedQualityHours("new"),a.newWeightedGpa=g.calculateGpa(a.newWeightedGpaTotalGradePoints,a.newWeightedGpaTotalQualityHours),a.convertedWeightedGpa=s.convertOldToNewGpaUsingFormula(a.oldWeightedGpa),a.combinedWeightedGpa=g.combinedGpa("degree"),a.newAcademicStanding=b("getAcademicStanding")(p.collection(),a.newGpa),a.newGpaDegreeClass=b("getclassOfHonsDegree")(q.newCollection(),a.combinedWeightedGpa),a.courseRows=r.collection(),a.totalQualityHours=g.sumQualityHours()}a.campuses=j.collection(),a.campusFaculty={faculty:""},a.campusSelected=function(b){z(b),null===b?(x(null),y(!1),j.thisCampus()&&C(),a.theme=A(null),B(null)):(x(b.shortName),y(!1),j.thisCampus()&&C(),a.theme=A(b.shortName),B(b.shortName),a.campusFaculty.faculty=k.thisFaculty())},a.terms=t.collection(),a.programmes=l.collection(),a.courses=h.collection(),a.courseTypes=m.collection(),a.levels=n.collection(),a.grades=i.collection(),a.qualityhoursValues=o.collection(),a.oldGpaTotalQualityPoints=0,a.oldGpaTotalGradePoints=0,a.oldGpaTotalQualityHours=0,a.newGpaTotalQualityPoints=0,a.newGpaTotalGradePoints=0,a.courseRows=r.collection(),u.settings().$promise.then(function(b){a.combinedCumulativeFormulaIsCollapsed=b.collapseCombinedCumulativeFormula,a.combinedDegreeFormulaIsCollapsed=b.collapseCombinedDegreeFormula,w.design(b.design).then(function(c){a.campusView=c.view,a.version=c.layout,z(b.defaultCampus)}).then(function(){a.campus=j.defaultCampus(b.defaultCampus),j.dynamicTheme(b.dynamicTheme),a.theme=A(b.defaultCampus),x(b.defaultCampus),a.campusFaculty.faculty=k.defaultFaculty(b.defaultFaculty),y(b.defaultFaculty),B(b.defaultCampus)}).then(function(){var a;console.log(c.$$search.id),a="undefined"==typeof c.$$search.id?b.studentProgrammeRecordURI:b.studentProgrammeRecordURI+"/id/"+c.$$search.id,v.courseRowInformation(a).then(function(a){0===r.collection().length&&r.addArray(a)}).then(function(){C()})}),h.coursesRest(b.coursesURI,a.courses).$promise.then(function(b){for(var c,d,e=b.courses,f=/^[a-zA-Z]+$/,g=0;g<e.length;g++)if(e[g][0]){c=e[g][0];for(var h=0;h<c.length;h++)if(!c.charAt(h).match(f)){d="undefined"!=typeof e[g][1]?e[g][1]:"3",a.courses.push({name:c,group:c.slice(0,h),number:c.slice(h),qualityHours:d});break}}else a.courses.push(e[g])}),a.programmes=l.collection(),a.courses=h.collection(),a.courseTypes=m.collection(),a.levels=n.collection(),a.grades=i.collection(),a.qualityhoursValues=o.collection()},function(b){console.log("config request failed: "+b),a.campus=j.defaultCampus("default"),z(),j.dynamicTheme(!0),x(),y(!1),B(null),a.combinedCumulativeFormulaIsCollapsed=!1,a.combinedDegreeFormulaIsCollapsed=!1,v.courseRowInformation("gpa.json").then(function(a){0===r.collection().length&&r.addArray(a)}).then(function(){C()}),h.coursesRest("courses.json",a.courses).$promise.then(function(b){for(var c=b.courses,d=0;d<c.length;d++)a.courses.push(c[d])}),a.theme=A(),a.programmes=l.collection(),a.courses=h.collection(),a.courseTypes=m.collection(),a.levels=n.collection(),a.grades=i.collection(),a.qualityhoursValues=o.collection()}),a.facultySelected=function(a){y(a),k.thisFaculty()&&C()},a.addCourse=function(b,c,d,e,f,g){a.optionAlert=!1,c&&d&&e&&f&&g?(r.addRow(b,c,d,e,f,g),C()):a.optionAlert=!0},a.removeCourse=function(b){a.newCourseRowsCount=0,r.removeRow(b),C()},a.includeCourse=function(a){console.log(a),C()},a.changeBackgroundColour=function(a){return a.include?void 0:"danger"},a.gotoCalculator=function(){c.hash("calculator"),d()},a.selectTerm=function(b){a.term=t.selectedTerm(b)},a.addCoursesModal=function(){var b=e.open({templateUrl:"views/addcoursesmodal.html",controller:"AddcoursesmodalCtrl",size:"lg"});b.result.then(function(b){console.log(b);for(var c=0;c<b.length;c++)r.addRow(b[c].term,b[c].course,b[c].courseType,b[c].level,b[c].grade,b[c].qualityhoursValue);a.newCourseRowsCount=b.length,C()},function(){})},a.newCourseRow=function(b){var c,d;return c=r.collection(),d=c.length-a.newCourseRowsCount,c.indexOf(b)>=d?"animate-row":void 0},a.status={isopen:!1},a.includeAll=function(b){a.status.isopen=!a.status.isopen,r.includeAll(b),C()},a.date=new Date}]),angular.module("gpaApp").filter("getQualityPoints",function(){return function(a,b){var c;for(c=0;c<a.length;c++)if(a[c].name===b)return a[c].qualityPoints;return null}}),angular.module("gpaApp").factory("gradePointsCalculator",function(){function a(a,b){var c=0;return a&&b?(c=new Big(a).times(b),c=c.toFixed(2)):c=0,c}return{calculateGradePoints:function(b,c){var d=a(b,c);return d}}}),angular.module("gpaApp").factory("gradePointAverageCalculator",["weights","levels","campuses","faculties","gpaConversion","courseRows",function(a,b,c,d,e,f){function g(a){var b,c,d,e=0;if(d=f.collection()){for(b=0;b<d.length;b++)if(d[b].include===!0){switch(a){case"gradePoints":c=parseFloat(d[b].gradePoints);break;case"adjustedGradePoints":c=parseFloat(d[b].adjustedGradePoints);break;case"qualityPoints":c=parseFloat(d[b].qualityPoints);break;case"adjustedQualityPoints":c=parseFloat(d[b].adjustedQualityPoints);break;case"convertedQualityPoints":c=parseFloat(d[b].convertedQualityPoints);break;case"convertedGradePoints":c=parseFloat(d[b].convertedGradePoints);break;case"adjustedConvertedQP":c=parseFloat(d[b].adjustedConvertedQP);break;case"adjustedConvertedGP":c=parseFloat(d[b].adjustedConvertedGP)}isNaN(c)&&(c=0),e=new Big(e).plus(c)}}else e=0;return e=e.toFixed(2)}function h(a){var b,c,d,e=0;if(d=f.collection())for(b=0;b<d.length;b++)d[b].include===!0&&("old"===a?parseInt(d[b].termCode)<201410&&(c=parseFloat(d[b].qualityhoursValue),isNaN(c)&&(c=0),e=new Big(e).plus(c)):"new"===a?parseInt(d[b].termCode)>=201410&&(c=parseFloat(d[b].qualityhoursValue),isNaN(c)&&(c=0),e=new Big(e).plus(c)):(c=parseFloat(d[b].qualityhoursValue),isNaN(c)&&(c=0),e=new Big(e).plus(c)));else e=0;return e=e.toFixed(2)}function i(e){var g,h,i,j=0;if(i=f.collection()){for(g=0;g<i.length;g++)if(i[g].include===!0){switch(e){case"gradePoints":h=parseFloat(i[g].gradePoints);break;case"adjustedGradePoints":h=parseFloat(i[g].adjustedGradePoints);break;case"qualityPoints":h=parseFloat(i[g].qualityPoints);break;case"adjustedQualityPoints":h=parseFloat(i[g].adjustedQualityPoints);break;case"convertedQualityPoints":h=parseFloat(i[g].convertedQualityPoints);break;case"convertedGradePoints":h=parseFloat(i[g].convertedGradePoints);break;case"adjustedConvertedQP":h=parseFloat(i[g].adjustedConvertedQP);break;case"adjustedConvertedGP":h=parseFloat(i[g].adjustedConvertedGP)}isNaN(h)&&(h=0),j=new Big(j).plus(new Big(h).times(a.weightValue(c.thisCampus(),d.thisFaculty(),b.levelValue(i[g].level))))}}else j=0;return j=j.toFixed(2)}function j(e){var g,h,i,j=0;if(i=f.collection())for(g=0;g<i.length;g++)i[g].include===!0&&("old"===e?parseInt(i[g].termCode)<201410&&(h=parseFloat(i[g].qualityhoursValue),isNaN(h)&&(console.error(h),h=0),j=new Big(j).plus(new Big(h).times(a.weightValue(c.thisCampus(),d.thisFaculty(),b.levelValue(i[g].level))))):"new"===e?parseInt(i[g].termCode)>=201410&&(h=parseFloat(i[g].qualityhoursValue),isNaN(h)&&(console.error(h),h=0),j=new Big(j).plus(new Big(h).times(a.weightValue(c.thisCampus(),d.thisFaculty(),b.levelValue(i[g].level))))):(h=parseFloat(i[g].qualityhoursValue),isNaN(h)&&(console.error(h),h=0),j=new Big(j).plus(new Big(h).times(a.weightValue(c.thisCampus(),d.thisFaculty(),b.levelValue(i[g].level))))));else j=0;return j=j.toFixed(2)}function k(a,b){var c=0;return c=a&&b&&0!=a&&0!=b?new Big(a).div(new Big(b)):0,c=c.toFixed(2)}function l(a,b,c,d){var e,f,g,h,i=0;return h=parseInt(new Big(a).plus(c).toString()),"undefined"==typeof h||null===h||isNaN(h)||0===h?i=0:(f=new Big(a).times(b).toFixed(2),g=new Big(c).times(d).toFixed(2),i=new Big(f).plus(g).div(new Big(h))),e=i.toFixed(3),e.toString()}function m(a){var b,c,d,f,m;return"cumulative"===a?(b=parseFloat(h("old")),c=e.convertOldToNewGpaUsingFormula(parseFloat(k(g("adjustedGradePoints"),b))),d=parseFloat(h("new")),f=parseFloat(k(g("adjustedConvertedGP"),d)),m=l(b,c,d,f)):"degree"===a&&(b=parseFloat(j("old")),c=e.convertOldToNewGpaUsingFormula(parseFloat(k(i("adjustedGradePoints"),b))),d=parseFloat(j("new")),f=parseFloat(k(i("adjustedConvertedGP"),d)),m=l(b,c,d,f)),m}return{sumPoints:function(a){var b=g(a);return b},sumQualityHours:function(a){var b=h(a);return b},sumWeightedPoints:function(a){var b=i(a);return b},sumWeightedQualityHours:function(a){var b=j(a);return b},calculateGpa:function(a,b){return k(a,b)},combinedGpa:function(a){var b=m(a);return b}}}]),angular.module("gpaApp").filter("getclassOfHonsDegree",function(){return function(a,b){var c,d=parseFloat(b);for(c=0;c<a.length;c++)if((a[c].gpaRangeMin===d||a[c].gpaRangeMin<d)&&(a[c].gpaRangeMax===d||a[c].gpaRangeMax>d))return a[c].name;return null}}),angular.module("gpaApp").filter("getConvertedQualityPoints",function(){return function(a,b){var c;for(c=0;c<a.length;c++)if(a[c].name===b)return a[c].convertedQualityPoints;return null}}),angular.module("gpaApp").factory("courses",["$resource",function(a){function b(b,c){var d,e;return d=a(b,{}),e=d.get({},function(a){return console.log(a),0!==c.length?null:void 0},function(a){console.log("request failed: "+a)})}var c;return c=[],{collection:function(){return c},selectedCourse:function(a){return c[a]},coursesRest:function(a,c){return b(a,c)},courseLevel:function(a){var b;return b=(parseInt(a)/1e3).toFixed(),1>b||null===b||"undefined"==typeof b?b=1:b>3&&(b=3),b},courseQualityHours:function(a){var b;return b=parseInt(a).toFixed(),(null===b||"undefined"==typeof b)&&(b=3),b}}}]),angular.module("gpaApp").factory("grades",function(){var a;return a=[{name:"A+",value:"A+",qualityPoints:4.3,convertedQualityPoints:4.3},{name:"A",value:"A",qualityPoints:4,convertedQualityPoints:4},{name:"A-",value:"A-",qualityPoints:3.7,convertedQualityPoints:3.7},{name:"B+",value:"B+",qualityPoints:3.3,convertedQualityPoints:3.3},{name:"B",value:"B",qualityPoints:3,convertedQualityPoints:3},{name:"B-",value:"B-",qualityPoints:2.7,convertedQualityPoints:2.85},{name:"C+",value:"C+",qualityPoints:2.3,convertedQualityPoints:2.65},{name:"C",value:"C",qualityPoints:2,convertedQualityPoints:2.5},{name:"C-",value:"C-",qualityPoints:1.7,convertedQualityPoints:2.35},{name:"D+",value:"D+",qualityPoints:1.3,convertedQualityPoints:2.15},{name:"D",value:"D",qualityPoints:1,convertedQualityPoints:2},{name:"F",value:"F",qualityPoints:0,convertedQualityPoints:0},{name:"F1",value:"F1",qualityPoints:1.7,convertedQualityPoints:1.7},{name:"F2",value:"F2",qualityPoints:1.3,convertedQualityPoints:1.3},{name:"F3",value:"F3",qualityPoints:0,convertedQualityPoints:0},{name:"PC",value:"PC",qualityPoints:0,convertedQualityPoints:0},{name:"EC",value:"EC",qualityPoints:0,convertedQualityPoints:0},{name:"E",value:"E",qualityPoints:0,convertedQualityPoints:0},{name:"V",value:"V",qualityPoints:0,convertedQualityPoints:0},{name:"NV",value:"NV",qualityPoints:0,convertedQualityPoints:0},{name:"P",value:"P",qualityPoints:0,convertedQualityPoints:0},{name:"NP",value:"NP",qualityPoints:0,convertedQualityPoints:0},{name:"FM",value:"FM",qualityPoints:0,convertedQualityPoints:0},{name:"AB",value:"AB",qualityPoints:0,convertedQualityPoints:0},{name:"AM",value:"AM",qualityPoints:0,convertedQualityPoints:0},{name:"AMS",value:"AMS",qualityPoints:0,convertedQualityPoints:0},{name:"CR",value:"CR",qualityPoints:0,convertedQualityPoints:0},{name:"DB",value:"DB",qualityPoints:0,convertedQualityPoints:0},{name:"DEF",value:"DEF",qualityPoints:0,convertedQualityPoints:0},{name:"DIS",value:"DIS",qualityPoints:0,convertedQualityPoints:0},{name:"DO",value:"DO",qualityPoints:0,convertedQualityPoints:0},{name:"EI",value:"EI",qualityPoints:0,convertedQualityPoints:0},{name:"EQ",value:"EQ",qualityPoints:0,convertedQualityPoints:0},{name:"EX",value:"EX",qualityPoints:0,convertedQualityPoints:0},{name:"FA",value:"FA",qualityPoints:0,convertedQualityPoints:0},{name:"FAS",value:"FAS",qualityPoints:0,convertedQualityPoints:0},{name:"FE",value:"FE",qualityPoints:0,convertedQualityPoints:0},{name:"FLS",value:"FLS",qualityPoints:0,convertedQualityPoints:0},{name:"FMS",value:"FMS",qualityPoints:0,convertedQualityPoints:0},{name:"FNP",value:"FNP",qualityPoints:0,convertedQualityPoints:0},{name:"FWR",value:"FNP",qualityPoints:0,convertedQualityPoints:0},{name:"FO",value:"FO",qualityPoints:0,convertedQualityPoints:0},{name:"FP",value:"FP",qualityPoints:0,convertedQualityPoints:0},{name:"FT",value:"FT",qualityPoints:0,convertedQualityPoints:0},{name:"FWS",value:"FWS",qualityPoints:0,convertedQualityPoints:0},{name:"I",value:"I",qualityPoints:0,convertedQualityPoints:0},{name:"IM",value:"IM",qualityPoints:0,convertedQualityPoints:0},{name:"IP",value:"IP",qualityPoints:0,convertedQualityPoints:0},{name:"LW",value:"LW",qualityPoints:0,convertedQualityPoints:0},{name:"NFC",value:"NFC",qualityPoints:0,convertedQualityPoints:0},{name:"NCR",value:"NCR",qualityPoints:0,convertedQualityPoints:0},{name:"NR",value:"NR",qualityPoints:0,convertedQualityPoints:0}],{collection:function(){return a},selectedGrade:function(b){return a[b]}}}),angular.module("gpaApp").factory("campuses",function(){var a,b,c,d=!0;return a=[{name:"Open Campus",value:"3",shortName:"open"},{name:"Mona Campus",value:"6",shortName:"mona"},{name:"Cavehill Campus",value:"2",shortName:"cave"},{name:"St. Augustine Campus",value:"8",shortName:"sta"}],c=[{name:"open",color:"rgba(250,102,034,0.9552238805970149)",alert:"alert-warning",table:"warning",font:"text-yg",jumbofont:"jumbocolordefault",panel:"panel-warning",tourButton:"btn-success"},{name:"mona",color:"rgba(229,015,022,0.9552238805970149)",alert:"alert-danger",table:"danger",font:"text-yg",jumbofont:"jumbocolordefault",panel:"panel-danger",tourButton:"btn-success"},{name:"cave",color:"rgba(252,204,056,0.9552238805970149)",alert:"alert-warning",table:"warning",font:"success",jumbofont:"jumbocolorblack",panel:"panel-warning",tourButton:"btn-success"},{name:"sta",color:"rgba(030,107,201,0.9552238805970149)",alert:"alert-info",table:"sta",font:"text-yg",jumbofont:"jumbocolordefault",panel:"panel-info",tourButton:"btn-success"},{name:"default",color:"rgba(67,158,36,0.9552238805970149)",alert:"alert-success",table:"success",font:"text-yg",jumbofont:"jumbocolordefault",panel:"panel-success",tourButton:"btn-warning"}],{collection:function(){return a},defaultCampus:function(b){for(var c=0;c<a.length;c++)if(a[c].shortName===b)return a[c];return null},selectedCampus:function(a){b=a},thisCampus:function(){return b?b.shortName:null},theme:function(a){d||(a="default");for(var b=0;b<c.length;b++)if(c[b].name===a)return c[b]},dynamicTheme:function(a){d=a}}}),angular.module("gpaApp").factory("faculties",["campuses",function(a){var b,c;return b=[{campus:"sta",faculties:[{name:"Food and Agriculture",shortName:"FA"},{name:"Engineering",shortName:"Eng"},{name:"Institute for Gender & Development Studies",shortName:"Gen"},{name:"Humanities & Education",shortName:"HE"},{name:"Law",shortName:"Law"},{name:"Medical Sciences",shortName:"Med"},{name:"Science & Technology",shortName:"ST"},{name:"Social Sciences",shortName:"SS"},{name:"T&T Council of Legal Education",shortName:"CLE"}]},{campus:"open",faculties:[]},{campus:"mona",faculties:[{name:"Humanities",shortName:"Hum"},{name:"Engineering",shortName:"Eng"},{name:"Law",shortName:"Law"},{name:"Medical Sciences",shortName:"Med"},{name:"Science & Technology",shortName:"ST"},{name:"Social Sciences",shortName:"SS"}]},{campus:"cave",faculties:[{name:"Institute for Gender & Development Studies",shortName:"Gen"},{name:"Humanities & Education",shortName:"HE"},{name:"Law",shortName:"Law"},{name:"Medical Sciences",shortName:"Med"},{name:"Science & Technology",shortName:"ST"},{name:"Social Sciences",shortName:"SS"}]}],{collection:function(){return b},campusCollection:function(a){for(var c=[],d=0;d<b.length;d++)b[d].campus===a&&(c=b[d].faculties);return c},defaultFaculty:function(c){if(a.thisCampus())for(var d=0;d<b.length;d++)if(b[d].campus===a.thisCampus())for(var e=0;e<b[d].faculties.length;e++)if(b[d].faculties[e].shortName===c)return b[d].faculties[e];return null},selectedFaculty:function(a){c=a},thisFaculty:function(){return c?c.shortName:null}}}]),angular.module("gpaApp").factory("courseTypes",function(){var a;return a=[{name:"Core",value:"Core"},{name:"Elective",value:"Elective"},{name:"Foundation",value:"Foundation"},{name:"Orientation",value:"Orientation"},{name:"Remedial",value:"Remedial"},{name:"Specialisation",value:"Specialisation"},{name:"Out of School",value:"Out of School"}],{collection:function(){return a},selectedCourseType:function(b){return a[b]}}}),angular.module("gpaApp").factory("levels",function(){var a;return a=[{name:"Level 1",year:"Year 1",value:"1"},{name:"Level 2",year:"Year 2",value:"2"},{name:"Level 3",year:"Year 3",value:"3"}],{collection:function(){return a},selectedLevel:function(b){return a[b]},levelValue:function(b){for(var c=0;c<a.length;c++)if(a[c].name===b||a[c].year===b||a[c].value===b)return a[c].value}}}),angular.module("gpaApp").factory("qualityhoursValues",function(){var a;return a=[{name:"0 Credit Hours",value:"0",qualityHours:0},{name:"1 Credit Hours",value:"1",qualityHours:1},{name:"2 Credit Hours",value:"2",qualityHours:2},{name:"3 Credit Hours",value:"3",qualityHours:3},{name:"4 Credit Hours",value:"4",qualityHours:4},{name:"5 Credit Hours",value:"5",qualityHours:5},{name:"6 Credit Hours",value:"6",qualityHours:6},{name:"7 Credit Hours",value:"7",qualityHours:7},{name:"8 Credit Hours",value:"8",qualityHours:8}],{collection:function(){return a},selectedQualityhoursValue:function(b){return a[b]}}}),angular.module("gpaApp").factory("academicStandings",function(){var a;return a=[{name:"Good",gpaThresholdMin:1,gpaThresholdMax:4.4},{name:"Warning",gpaThresholdMin:.75,gpaThresholdMax:.999},{name:"Advisory",gpaThresholdMin:.01,gpaThresholdMax:.749},{name:"-",gpaThresholdMin:0,gpaThresholdMax:0}],{collection:function(){return a},selectedAcademicStanding:function(b){return a[b]}}}),angular.module("gpaApp").factory("classOfHonsDegrees",function(){var a,b,c,d,e;return a=[{name:"First Class",gpaRangeMin:3.6,gpaRangeMax:5},{name:"Upper Second",gpaRangeMin:3,gpaRangeMax:3.599},{name:"Lower Second",gpaRangeMin:2.5,gpaRangeMax:2.999},{name:"Pass",gpaRangeMin:2,gpaRangeMax:2.499},{name:"-",gpaRangeMin:0,gpaRangeMax:1.999}],b=[{name:"First Class",gpaRangeMin:3.6,gpaRangeMax:5},{name:"Upper Second",gpaRangeMin:3,gpaRangeMax:3.599},{name:"Lower Second",gpaRangeMin:2,gpaRangeMax:2.999},{name:"Pass",gpaRangeMin:1,gpaRangeMax:1.999},{name:"-",gpaRangeMin:0,gpaRangeMax:.999}],c=[{name:"First Class",gpaRangeMin:3.6,gpaRangeMax:5},{name:"Upper Second",gpaRangeMin:3,gpaRangeMax:3.599},{name:"Lower Second",gpaRangeMin:2,gpaRangeMax:2.999},{name:"Third Class",gpaRangeMin:1.5,gpaRangeMax:2.999},{name:"Pass",gpaRangeMin:1,gpaRangeMax:1.499},{name:"-",gpaRangeMin:0,gpaRangeMax:.999}],d=[{name:"First Class",gpaRangeMin:3.6,gpaRangeMax:5},{name:"Second Class",gpaRangeMin:3,gpaRangeMax:3.599},{name:"Pass",gpaRangeMin:1,gpaRangeMax:2.999},{name:"-",gpaRangeMin:0,gpaRangeMax:.999}],e=[{name:"Hons Distinction",gpaRangeMin:3.6,gpaRangeMax:5},{name:"Honours",gpaRangeMin:3,gpaRangeMax:3.599},{name:"Pass",gpaRangeMin:1,gpaRangeMax:2.999},{name:"-",gpaRangeMin:0,gpaRangeMax:.999}],{newCollection:function(){return a},oldCollection:function(a){return"Eng"===a?c:"Law"===a?d:"Med"===a?e:b}}}),angular.module("gpaApp").factory("courseRows",["$filter","terms","grades","adjustments","gradePointsCalculator",function(a,b,c,d,e){var f;return f=[],{collection:function(){return f},addArray:function(a){for(var b=0;b<a.length;b++)f.push(a[b])},addRow:function(g,h,i,j,k,l){var m,n,o,p;(null===g||"undefined"==typeof g)&&(g={name:"Core",value:"Core"}),(null===i||"undefined"==typeof i)&&(i=b.selectedTerm(201410)),m=a("getQualityPoints")(c.collection(),k.name),n=a("getConvertedQualityPoints")(c.collection(),k.name),o=d.adjustQualityAndGradePoints(g.code,m,e.calculateGradePoints(l.qualityHours,m)),p=d.adjustConvertedPoints(g.code,n,e.calculateGradePoints(l.qualityHours,n)),f.push({termCode:g.code,term:g,course:h.name,courseType:i.name,level:j.name,grade:k.name,qualityhoursValue:l.qualityHours,qualityPoints:m,adjustedQualityPoints:o.qualityPoints,gradePoints:e.calculateGradePoints(l.qualityHours,m),adjustedGradePoints:o.gradePoints,mutePoints:o.mute,convertedQualityPoints:n,convertedGradePoints:e.calculateGradePoints(l.qualityHours,n),adjustedConvertedQP:p.qualityPoints,adjustedConvertedGP:p.gradePoints,include:!0})},removeRow:function(a){var b=f.indexOf(a);f.splice(b,1)},includeAll:function(a){for(var b=0;b<f.length;b++)f[b].include=a}}}]),angular.module("gpaApp").factory("programmes",function(){var a;return a=[{name:"BEd Educational Administration",group:"BEd"},{name:"BEd Education Administration (Level 1)",group:"BEd"},{name:"BEd Literacy Studies",group:"BEd"},{name:"BEd Primary Education Language Arts",group:"BEd"},{name:"BSc Economics",group:"BSc"},{name:"BSc Accounting",group:"BSc"},{name:"BSc Agribusiness Management",group:"BSc"},{name:"BSc Banking and Finance",group:"BSc"},{name:"BSc Management Studies",group:"BSc"},{name:"BEd Secondary Maths Education (A)",group:"BEd"},{name:"BEd Secondary English/Literature Education (A)",group:"BEd"},{name:"BEd Secondary Spanish Education (A)",group:"BEd"},{name:"BEd Secondary Computer Science Education (A)",group:"BEd"},{name:"BEd Secondary Chemistry Education (A)",group:"BEd"},{name:"BEd Secondary History Education (A)",group:"BEd"},{name:"BEd Secondary Maths Education (B)",group:"BEd"},{name:"BEd Secondary English/Literature Education (B)",group:"BEd"},{name:"BEd Secondary Spanish Education (B)",group:"BEd"},{name:"BEd Secondary Computer Science Education (B)",group:"BEd"},{name:"BEd Secondary Chemistry Education (B)",group:"BEd"},{name:"BEd Secondary History Education (B)",group:"BEd"},{name:"BSc Accounting (L2)",group:"BSc"},{name:"BEd Literacy Studies Model A",group:"BEd"},{name:"BSc Nursing - Post RN",group:"BSc"},{name:"ASc in Social Work",group:"ASc"},{name:"ASc in the Management of NGOs",group:"ASc"},{name:"ASc in Administrative Professional Office Management",group:"ASc"},{name:"ASc in Paralegal Studies",group:"ASc"},{name:"BEd The Teaching of Primary School Mathematics and Science",group:"BEd"},{name:"ASc in Public Sector Management",group:"ASc"},{name:"BSc Management Studies (Major)",group:"BSc"},{name:"BSc Management Studies (Economics Minor)",group:"BSc"},{name:"BEd Educational Leadership and Management (Special)",group:"BEd"},{name:"BEd Educational Leadership and Management (Major)",group:"BEd"},{name:"BSc Banking and Finance (Special)",group:"BSc"},{name:"BSc Banking and Finance (Special)-ECIB",group:"BSc"},{name:"BSc Banking and Finance (Lending and Mortgage Underwriting Minor)",group:"BSc"},{name:"BSc Banking and Finance (Law for Banking and Finance Minor)",group:"BSc"},{name:"BSc Banking and Finance (Compliance and Corporate Governance Minor)",group:"BSc"},{name:"BEd Literacy Studies Model B",group:"BEd"},{name:"BSc Youth Development Work",group:"BSc"},{name:"BEd Early Childhood Development and Family Studies",group:"BEd"},{name:"ASc in Business Management at B&B UC",group:"ASc"},{name:"BSc in Social Work",group:"BSc"},{name:"BA African & African Diaspora Std",group:"BA"},{name:"BA Carib Sign Lang Interpreting",group:"BA"},{name:"BEd Computer Sci./Info. Tech",group:"BEd"},{name:"BA Computer Science",group:"BA"},{name:"BA Dance",group:"BA"},{name:"BA Digital Media Production",group:"BA"},{name:"BA Drama",group:"BA"},{name:"BEd Educational Administration",group:"BEd"},{name:"BA Enter & Cultural Entp Mgt",group:"BA"},{name:"BA French",group:"BA"},{name:"BA French & Education",group:"BA"},{name:"BA French & Spanish",group:"BA"},{name:"BA Geography",group:"BA"},{name:"BA Geography (Special)",group:"BA"},{name:"BA History",group:"BA"},{name:"BA History & Archaeology",group:"BA"},{name:"BEd History Education",group:"BEd"},{name:"BA History and Heritage",group:"BA"},{name:"BA Integrated Marketing Comm",group:"BA"},{name:"BA Journalism",group:"BA"},{name:"BA Lang, Comm & Linguistics",group:"BA"},{name:"BA Language & Linguistics",group:"BA"},{name:"BEd Language Ed - English",group:"BEd"},{name:"BEd Language Ed - Lit Studies",group:"BEd"},{name:"BEd Language Eudcation: Spanish",group:"BEd"},{name:"BA Language and Literature",group:"BA"},{name:"BA Language, Communicat & Society",group:"BA"},{name:"BA Library & Information Studies",group:"BA"},{name:"BA Linguistics",group:"BA"},{name:"BA Linguistics & Language Edu",group:"BA"},{name:"BA Linguistics (Special)",group:"BA"},{name:"BA Literatures in English",group:"BA"},{name:"BA Mathematics",group:"BA"},{name:"BEd Mathematics Education",group:"BEd"},{name:"BA Media & Communication",group:"BA"},{name:"BA Ministerial Studies",group:"BA"},{name:"BA Music",group:"BA"},{name:"BA Philosophy",group:"BA"},{name:"BA Philosophy with Theology",group:"BA"},{name:"BEd School Librarianship",group:"BEd"},{name:"BEd Social Studies/Geography Edu",group:"BEd"},{name:"BA Spanish",group:"BA"},{name:"BA Spanish & Education",group:"BA"},{name:"BA Theology",group:"BA"},{name:"BA Visual Arts",group:"BA"},{name:"LLB Law",group:"LLB"},{name:"LLB Law (First Year)",group:"LLB"},{name:"BBMed Sci Anatomy",group:"BBMed"},{name:"BBMed Sci Biochemistry (Medical Sc)",group:"BBMed"},{name:"BSc Biochemistry (Medical Sc)",group:"BSc"},{name:"BSc Diagnostic Imag. (Radiography)",group:"BSc"},{name:"MB BS Medicine & Surgery MB",group:"BS"},{name:"BSc Nursing",group:"BSc"},{name:"BBMed Sci Pharmacology",group:"BBMed"},{name:"DDS Undergraduate Dental Programme",group:"DDS"},{name:"BSc Physical Therapy",group:"BSc"},{name:"BBMed Sci Physiology",group:"BBMed"},{name:"BSc Actuarial Science",group:"BSc"},{name:"BSc Alternative Energy",group:"BSc"},{name:"BSc Animal Biology",group:"BSc"},{name:"BSc Applied Chemistry",group:"BSc"},{name:"BSc Applied Plant Sciences",group:"BSc"},{name:"BSc Biochemistry (Pure & Applied)",group:"BSc"},{name:"BSc Biology",group:"BSc"},{name:"BSc Biology with Education",group:"BSc"},{name:"BSc Biotechnology",group:"BSc"},{name:"BSc Botany",group:"BSc"},{name:"BSc Chemistry",group:"BSc"},{name:"BSc Chemistry & Management",group:"BSc"},{name:"BSc Chemistry (Special)",group:"BSc"},{name:"BSc Chemistry with Education",group:"BSc"},{name:"BSc Civil Engineering",group:"BSc"},{name:"BSc Computer Science",group:"BSc"},{name:"BSc Computer Studies",group:"BSc"},{name:"BSc Computer Systems Engineering",group:"BSc"},{name:"BSc Electronics",group:"BSc"},{name:"BSc Electronics Engineering",group:"BSc"},{name:"BSc Enter & Cultural Entp Mgt",group:"BSc"},{name:"BSc Environmental Biology",group:"BSc"},{name:"BSc Environmental Biology (Double)",group:"BSc"},{name:"BSc Environmental Physics",group:"BSc"},{name:"BSc Experimental Biology",group:"BSc"},{name:"BSc Experimental Biology (double)",group:"BSc"},{name:"BSc Food Chemistry",group:"BSc"},{name:"BSc General",group:"BSc"},{name:"BSc Geography",group:"BSc"},{name:"BSc Geography (Special)",group:"BSc"},{name:"BSc Geology",group:"BSc"},{name:"BSc Geology (Special)",group:"BSc"},{name:"BSc Horticulture",group:"BSc"},{name:"BSc Information Technology",group:"BSc"},{name:"BSc Marine Biology",group:"BSc"},{name:"BSc Materials Science",group:"BSc"},{name:"BSc Mathematics",group:"BSc"},{name:"BSc Mathematics & Modelling Proces",group:"BSc"},{name:"BSc Mathematics (double)",group:"BSc"},{name:"BSc Mathematics with Education",group:"BSc"},{name:"BSc Media & Communication",group:"BSc"},{name:"BSc Medical Physics",group:"BSc"},{name:"BSc Microbiology",group:"BSc"},{name:"BSc Molecular Biology",group:"BSc"},{name:"BSc Occu & Env Safety & Health",group:"BSc"},{name:"BSc Physics",group:"BSc"},{name:"BSc Physics with Education",group:"BSc"},{name:"BSc Science, Media & Communication",group:"BSc"},{name:"BSc Terrestrial & Freshwater Bio",group:"BSc"},{name:"BSc Tropical Horticulture",group:"BSc"},{name:"BSc Zoology",group:"BSc"},{name:"BSc African & African Diaspora Std",group:"BSc"},{name:"BSc Anthropology",group:"BSc"},{name:"BSc Banking & Finance",group:"BSc"},{name:"BSc Banking & Finance (Special)",group:"BSc"},{name:"BSc Bus, Econ & Soc Stat (Special)",group:"BSc"},{name:"BSc Demography",group:"BSc"},{name:"BSc Economics (Special)",group:"BSc"},{name:"BSc Entrepreneurship",group:"BSc"},{name:"BSc Finance",group:"BSc"},{name:"BSc Gender & Development Studies",group:"BSc"},{name:"BSc Government",group:"BSc"},{name:"BSc Hospitality & Tourism Mgmt",group:"BSc"},{name:"BSc Hotel Management (Special)",group:"BSc"},{name:"BSc Human Resource Management",group:"BSc"},{name:"BSc International Relations",group:"BSc"},{name:"BSc Labour & Employment Relations",group:"BSc"},{name:"BSc Management Information Systems",group:"BSc"},{name:"BSc Management Studies (Accounts)",group:"BSc"},{name:"BSc Management Studies (Entrep)",group:"BSc"},{name:"BSc Management Studies (General)",group:"BSc"},{name:"BSc Management Studies (HRM)",group:"BSc"},{name:"BSc Management Studies (MIS)",group:"BSc"},{name:"BSc Management Studies (Marketing)",group:"BSc"},{name:"BSc Management Studies(Operations)",group:"BSc"},{name:"BSc Marketing",group:"BSc"},{name:"BSc Mgmt Stud (Corp Gov & Bus Eth)",group:"BSc"},{name:"BSc Operations Management",group:"BSc"},{name:"BSc Political Science",group:"BSc"},{name:"BSc Politics & International Coop",group:"BSc"},{name:"BSc Psychology",group:"BSc"},{name:"BSc Public Administration",group:"BSc"},{name:"BSc Public Sector Management",group:"BSc"},{name:"BSc Social Development Policy",group:"BSc"},{name:"BSc Social Policy & Administration",group:"BSc"},{name:"BSc Social Policy & Development",group:"BSc"},{name:"BSc Social Psychology",group:"BSc"},{name:"BSc Social Work (Special)",group:"BSc"},{name:"BSc Sociology",group:"BSc"},{name:"BSc Sociology (Special)",group:"BSc"},{name:"BSc Statistics",group:"BSc"},{name:"BSc Tourism Management",group:"BSc"},{name:"BSc Tourism Management (Special)",group:"BSc"}],{collection:function(){return a
},selectedProgramme:function(b){return a[b]}}}),angular.module("gpaApp").filter("getAcademicStanding",function(){return function(a,b){var c,d=parseFloat(b);for(c=0;c<a.length;c++)if((a[c].gpaThresholdMin===d||a[c].gpaThresholdMin<d)&&(a[c].gpaThresholdMax===d||a[c].gpaThresholdMax>d))return a[c].name;return null}}),angular.module("gpaApp").factory("weights",function(){var a;return a=[{campus:"open",faculties:[{faculty:"default",weights:[{level:"1",weight:0},{level:"2",weight:1},{level:"3",weight:1}]}]},{campus:"sta",faculties:[{faculty:"default",weights:[{level:"1",weight:0},{level:"2",weight:1},{level:"3",weight:1}]},{faculty:"Eng",weights:[{level:"1",weight:.1},{level:"2",weight:.3},{level:"3",weight:.6}]}]},{campus:"cave",faculties:[{faculty:"default",weights:[{level:"1",weight:0},{level:"2",weight:1},{level:"3",weight:1}]}]},{campus:"mona",faculties:[{faculty:"default",weights:[{level:"1",weight:0},{level:"2",weight:1},{level:"3",weight:1}]},{faculty:"Eng",weights:[{level:"1",weight:.1},{level:"2",weight:.3},{level:"3",weight:.6}]}]}],{weightValue:function(b,c,d){(null===b||"undefined"==typeof b)&&(b="open"),(null===c||"undefined"==typeof c)&&(c="default"),(null===d||"undefined"==typeof d)&&(console.error(d),d="1");for(var e=0;e<a.length;e++)if(a[e].campus===b){for(var f=0;f<a[e].faculties.length;f++)if(a[e].faculties[f].faculty===c)for(var g=0;g<a[e].faculties[f].weights.length;g++)if(a[e].faculties[f].weights[g].level===d)return a[e].faculties[f].weights[g].weight;c="default";for(var h=0;h<a[e].faculties.length;h++)if(a[e].faculties[h].faculty===c)for(var i=0;i<a[e].faculties[h].weights.length;i++)if(a[e].faculties[h].weights[i].level===d)return a[e].faculties[h].weights[i].weight}}}}),angular.module("gpaApp").factory("gpaConversion",function(){return{convertOldToNewGpaUsingFormula:function(a){return parseFloat(a)>2.99?a:parseFloat(a)<=2.99&&parseFloat(a)>1.99?new Big(49).times(a).plus(149.5).div(99).toFixed(2):parseFloat(a)<=1.99&&parseFloat(a)>.99?new Big(49).times(a).plus(149).div(99).toFixed(2):parseFloat(a)<=.99?new Big(199).times(a).div(99).toFixed(2):void 0}}}),angular.module("gpaApp").factory("terms",function(){var a;return a=[{icon:"text-danger fa fa-backward",name:"Before Semester I 2014/2015",title:"Taken before Semester I 2014/2015 GPA revision",code:201330},{icon:"text-success fa fa-forward",name:"At or after Semester I 2014/2015",title:"Taken after Semester I 2014/2015 GPA revision",code:201410}],{collection:function(){return a},selectedTerm:function(b){return 201410>b?a[0]:a[1]}}}),angular.module("gpaApp").factory("configurations",["$resource",function(a){function b(){var b,c;return b=a("config.json",{}),c=b.get({},function(a){console.dir(a)},function(a){console.error(a)})}return{settings:function(){return b()}}}]),angular.module("gpaApp").factory("adjustments",function(){function a(a,b,c){var d,e,f;return isNaN(b)&&(b=0),isNaN(c)&&(c=0),d=parseFloat(b).toFixed(2),e=parseFloat(c).toFixed(2),a>=201410?(d="-",e="-"):f="text-muted",{qualityPoints:d,gradePoints:e,mute:f}}function b(a,b,c){var d,e;return isNaN(d)&&(d=0),isNaN(e)&&(e=0),d=parseFloat(b).toFixed(2),e=parseFloat(c).toFixed(2),201410>a&&(d="-",e="-"),{qualityPoints:d,gradePoints:e}}return{adjustQualityAndGradePoints:function(b,c,d){return a(b,c,d)},adjustConvertedPoints:function(a,c,d){return b(a,c,d)}}}),angular.module("gpaApp").factory("student",["$resource","$filter","grades","terms","adjustments","gradePointsCalculator",function(a,b,c,d,e,f){function g(b){var c,d;return c=a(b,{}),d=c.get({},function(a){console.log(a)},function(a){console.log("request failed: "+a)})}return{programmeRecord:function(a){return g(a)},courseRowInformation:function(a){var h;return h=g(a).$promise.then(function(a){var g,h,i,j,k=a.sar,l=[];if("undefined"!=typeof a.sar&&null!==a.sar)for(var m=0;m<k.length;m++)g=b("getConvertedQualityPoints")(c.collection(),k[m].grade),h=k[m].grade_point&&"0"!=k[m].grade_point?k[m].grade_point:f.calculateGradePoints(k[m].quality_hours,k[m].quality_points),i=e.adjustQualityAndGradePoints(k[m].term_code,k[m].quality_points,h),j=e.adjustConvertedPoints(k[m].term_code,g,f.calculateGradePoints(k[m].quality_hours,g)),l.push({termCode:k[m].term_code,term:d.selectedTerm(k[m].term_code),course:k[m].course_code,courseType:k[m].course_type_name,level:k[m].program_levels_name,grade:k[m].grade,qualityhoursValue:k[m].quality_hours,qualityPoints:k[m].quality_points,adjustedQualityPoints:i.qualityPoints,gradePoints:h,adjustedGradePoints:i.gradePoints,mutePoints:i.mute,convertedQualityPoints:g,convertedGradePoints:f.calculateGradePoints(k[m].quality_hours,g),adjustedConvertedQP:j.qualityPoints,adjustedConvertedGP:j.gradePoints,include:!0,fromWebService:!0});return l},function(a){console.log("request failed: "+a)})}}}]),angular.module("gpaApp").factory("layouts",["$q",function(a){function b(b){var c,d=a.defer();switch(b){case"design1":c={view:"default",layout:"version4"};break;case"design2":c={view:"openCampus",layout:"version4"};break;case"design3":c={view:"default",layout:"version3"};break;case"design4":c={view:"default",layout:"version1"};break;case"design5":c={view:"default",layout:"version2"};break;default:c={view:"default",layout:"version4"}}return setTimeout(function(){c&&d.resolve(c)},1),d.promise}return{design:function(a){return b(a)}}}]),angular.module("gpaApp").controller("AddcoursesmodalCtrl",["$scope","$modalInstance","courses","terms","courseTypes","levels","grades","qualityhoursValues","modalRows","faculties",function(a,b,c,d,e,f,g,h,i,j){function k(){var b;b=i.collection();for(var c=0;c<b.length;c++)a.rowLevel.level[c]=b[c].level,a.rowLevel.qualityhoursValue[c]=b[c].qualityhoursValue}i.reset(),a.courses=c.collection(),a.terms=d.collection(),a.levels=f.collection(),a.grades=g.collection(),a.qualityhoursValues=h.collection(),a.modalRows=i.collection(),a.rowLevel={level:[],qualityhoursValue:[]},a.disableLevel=!1,a.disableQualityHours=!1,k(),"Eng"!==j.thisFaculty()&&(a.disableLevel=!0,a.disableQualityHours=!0),a.addModalRowBelow=function(b){a.incomplete=!1,i.addRow(b),k()},a.removeModalRow=function(b){a.incomplete=!1,i.removeRow(b),k()},a.change=function(b,c,d){var e;a.incomplete=!1,e=i.changeRowValue(b,c,d),k()},a.valid="modal-select",a.sendModalRowsToCourseRows=function(){a.incomplete=!1,a.count=i.validateRows(),a.count>0?(a.incomplete=!0,1===a.count?(a.rowGrammar="row",a.thatGrammar="that",a.itGrammar="it"):(a.rowGrammar="rows",a.thatGrammar="those",a.itGrammar="them")):(i.cleanUpModalRows(),b.close(i.collection()))},a.close=function(){b.dismiss("cancel")}}]),angular.module("gpaApp").factory("modalRows",["faculties","courses","levels","qualityhoursValues",function(a,b,c,d){function e(a){var b=k.indexOf(a);k.splice(b+1,0,{course:null,level:null,grade:null,qualityhoursValue:null})}function f(a){var b=k.indexOf(a);k.splice(b,1)}function g(e,f,g){var h=k.indexOf(e),i={index:null};switch(f){case"course":null===g?k[h].course=null:(k[h].course=g,"Eng"!==a.thisFaculty()&&(k[h].level=c.selectedLevel(b.courseLevel(g.number)-1),k[h].qualityhoursValue=d.selectedQualityhoursValue(b.courseQualityHours(g.qualityHours)))),i={index:h};break;case"term":k[h].term=null===g?null:g;break;case"level":k[h].level=null===g?null:g;break;case"grade":k[h].grade=null===g?null:g;break;case"qualityhoursValue":k[h].qualityhoursValue=null===g?0:g}return i}function h(){k=[{course:null,term:null,level:null,grade:null,qualityhoursValue:null}],l=[]}function i(){var a,b=0;for(l=[],a=0;a<k.length;a++)null!==k[a].course&&"undefined"!=typeof k[a].course||null!==k[a].term&&"undefined"!=typeof k[a].term||null!==k[a].level&&"undefined"!=typeof k[a].level||null!==k[a].grade&&"undefined"!=typeof k[a].grade||null!==k[a].qualityhoursValue&&"undefined"!=typeof k[a].qualityhoursValue?null!==k[a].course&&"undefined"!=typeof k[a].course&&null!==k[a].term&&"undefined"!=typeof k[a].term&&null!==k[a].level&&"undefined"!=typeof k[a].level&&null!==k[a].grade&&"undefined"!=typeof k[a].grade&&null!==k[a].qualityhoursValue&&"undefined"!=typeof k[a].qualityhoursValue?l[a]=1:(l[a]=0,b+=1):l[a]=-1;return console.log(l),b}function j(){var a;for(a=0;a<l.length;a++)if(-1===l[a]){k.splice(a,1),i(),j();break}}var k,l;return k=[],l=[],{collection:function(){return k},addRow:function(a){return e(a)},removeRow:function(a){return f(a)},changeRowValue:function(a,b,c){return g(a,b,c)},reset:function(){return h()},validateRows:function(){return i()},cleanUpModalRows:function(){return j()}}}]);